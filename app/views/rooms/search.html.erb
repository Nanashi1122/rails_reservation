<!-- app/views/rooms/search.html.erb -->
<h1>施設検索</h1>
  <p>検索結果: <%= @rooms.count %> 件見つかりました</p>

<%= form_with(url: search_rooms_path, method: 'get') do |form| %>
  <%= form.label :address, '　　　　住所検索:' %>
  <%= form.text_field :address %><br>

  <%= form.label :query, 'フリーワード検索:' %>
  <%= form.text_field :query %>

  <%= form.submit 'Search' %>
<% end %>

<table>
    <thead>
        <tr>
        <th>名前</th>
        <th>紹介</th>
        <th>宿泊料金(/日)</th>
        <th>エリア</th>
        <th>住所</th>
        <th>施設画像</th>
        <th></th>
        </tr>
    </thead>

    <tbody>
        <% @rooms.each do |room| %>
        <tr>
            <td><%= room.name %></td>
            <td><%= room.introduction %></td>
            <td><%= room.fee %></td>
            <% if room.area == 1 %>
                <td>東京</td>
            <% elsif room.area == 2 %>
                <td>大阪</td>
            <% elsif room.area == 3 %>
                <td>京都</td>
            <% elsif room.area == 4 %>
                <td>札幌</td>        
            <% end %>
            <td><%= room.address %></td>
            <% if room.room_image.attached? %>
                <td><%= image_tag room.room_image %></td>
            <% else %>
                <td><%= image_tag 'default-room.png' %></td>
            <% end%>
            <td><%= button_to "詳細・予約はこちら", {action: "show"}, {method: :get, params: {id: room.id}} %></td>
        </tr>
        <% end %>
    </tbody>
</table>